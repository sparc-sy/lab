{{ define "bodyclass" }}{{ if .Parent.IsHome }}page-list{{ else }}page-single{{ end }}{{ end }}
{{ define "title" }}{{ .Title }} | {{ .Site.Title }}{{ end }}
{{ define "main" }}
{{ if .Parent.IsHome }}
{{/* Top-level components list */}}
<div class="list-page">
  <header class="list-header">
    <h1 class="list-title">{{ .Title }}</h1>
    {{ with .Content }}<div class="list-intro prose">{{ . }}</div>{{ end }}
  </header>
  <div class="list-grid">
    {{ range .Sections.ByWeight }}
    <a href="{{ .Permalink }}" class="card{{ with .Params.image }} card--with-image{{ end }}">
      {{ with .Params.image }}
      <div class="card-image-wrap">
        <img src="{{ . }}" alt="" class="card-image" loading="lazy">
      </div>
      {{ end }}
      <span class="card-title">{{ .Title }}</span>
      {{ with .Description }}<span class="card-desc">{{ . }}</span>{{ end }}
    </a>
    {{ end }}
  </div>
</div>
{{ else }}
{{/* Component subsection: show web content as article */}}
<article class="content prose">
  <header class="content-header">
    <nav class="breadcrumb" aria-label="breadcrumb">
      <a href="{{ "/" | absURL }}">الرئيسية</a>
      <span class="sep">/</span>
      <a href="{{ "/components/" | absURL }}">المكونات</a>
      <span class="sep">/</span>
      <span>{{ .Title }}</span>
    </nav>
    <h1 class="content-title">{{ .Title }}</h1>
    {{ with .Params.image }}
    <div class="content-image-wrap">
      <img src="{{ . }}" alt="{{ $.Title }}" class="content-image">
    </div>
    {{ end }}
  </header>
  <div class="content-body">
    {{ .Content }}
  </div>
  <footer class="content-actions">
    <a href="{{ .RelPermalink }}print/" class="btn btn-print">نسخة للطباعة</a>
  </footer>
</article>
{{ end }}
{{ end }}
